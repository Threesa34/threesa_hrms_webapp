<div class="container-fluid mb-4">
    <mat-form-field class="col-12 col-lg-4 col-md-12 col-sm-12">
        <mat-label>Product</mat-label>
            <mat-select [(ngModel)]="productUnitDetails.productid">
                <mat-option *ngFor="let _obj of productsList" (onSelectionChange)="getProductDetails(_obj.id)" [value]="_obj.id">{{_obj.name}}</mat-option>
            </mat-select>
      </mat-form-field>

    <mat-form-field class="col-12 col-lg-4 col-md-12 col-sm-12">
        <mat-label>Catagory</mat-label>
            <mat-select [(ngModel)]="Product_details.catagoryid" disabled>
                <mat-option *ngFor="let _obj of catagoryiesList" [value]="_obj.id">{{_obj.name}}</mat-option>
            </mat-select>
      </mat-form-field>

    <mat-form-field class="col-12 col-lg-4 col-md-12 col-sm-12">
        <mat-label>Manufacturel</mat-label>
            <mat-select [(ngModel)]="Product_details.manufacturerid" disabled>
                <mat-option *ngFor="let _obj of manufacturelsList" [value]="_obj.id">{{_obj.name}}</mat-option>
            </mat-select>
      </mat-form-field>

    <mat-form-field class="col-12 col-lg-12 col-md-12 col-sm-12">
        <mat-label>Description</mat-label>
           <textarea  matInput [(ngModel)]="Product_details.description" disabled></textarea>
      </mat-form-field>

    <mat-form-field class="col-6 col-lg-2 col-md-6 col-sm-6">
        <mat-label>Quantity</mat-label>
           <input  matInput type="number" [(ngModel)]="productUnitDetails.qty">
      </mat-form-field>

    <mat-form-field class="col-6 col-lg-2 col-md-6 col-sm-6">
        <mat-label>Unit</mat-label>
           <mat-select [(ngModel)]="productUnitDetails.unit">
            <mat-option *ngFor="let _obj of Product_units" [value]="_obj">{{_obj}}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="col-6 col-lg-3 col-md-6 col-sm-6">
        <mat-label>MRP</mat-label>
           <input  matInput type="number" [(ngModel)]="productUnitDetails.mrp">
      </mat-form-field>
      <mat-form-field class="col-6 col-lg-3 col-md-6 col-sm-6">
        <mat-label>Selling Price</mat-label>
           <input  matInput type="number" [(ngModel)]="productUnitDetails.sell_price">
      </mat-form-field>
      <mat-form-field class="col-6 col-lg-2 col-md-6 col-sm-6">
        <mat-label>Status</mat-label>
           <mat-select [(ngModel)]="productUnitDetails.status">
            <mat-option *ngFor="let _obj of unitStatusOptions" [value]="_obj.id">{{_obj.title}}</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="col-12 mt-2 mb-2">
          <h2>Product Images</h2>
          <hr> 
      </div>
      <div class="col-12 mt-2">
        <button mat-raised-button color="accent" (click)="OpenFileSelector()">Upload Product Images</button>
        <input type="file" #fileInput ng2FileSelect [uploader]="uploader"  class="d-none" accept="image/*" multiple/>
      </div>

      <div class="col-12 mt-2 mb-2">
          <div class="row">
              <div class="col-6 col-md-4 col-lg-4 col-sm-6" *ngFor="let item of uploader.queue; let i = index;">
                  <div class="col-12">
                        <img src="" imgPreview [image]="item?._file" class="img-responsive img-thumbnail"/>
                  </div>
                  <div class="col-12">
                    <mat-form-field class="col-11">
                        <input matInput type="number"  [(ngModel)]="item.index" (change)="verifyIndex(item)" placeholder="{{i +1}}"> 
                      </mat-form-field>
                      &nbsp; <a (click)="RemoveImage(item)" class="text-danger"><span class="material-icons">
                        delete
                        </span></a>
                  </div>

              </div>
          </div>
      </div>

      <div class="col-12 mt-2 mb-2">
          <div class="row">
              <div class="col-6 col-md-4 col-lg-4 col-sm-6" *ngFor="let item of productUnitImages; let i = index;">
                  <div class="col-12">
                        <img [src]="item.product_img" class="img-responsive img-thumbnail"/>
                  </div>
                  <div class="col-12">
                    <mat-form-field class="col-11">
                        <input matInput type="number"  [(ngModel)]="item.index" (change)="verifyIndex(item)" placeholder="{{i +1}}"> 
                      </mat-form-field>
                      &nbsp; <a (click)="deleteProductImage(item)" class="text-danger"><span class="material-icons">
                        delete
                        </span></a>
                  </div>

              </div>
          </div>
      </div>

      <div class="col-12 mt-2 mb-2" *ngIf="uploader.queue.length > 0">
        <button mat-raised-button color="accent" (click)="sortByIndex()">Sort images on index</button>
      </div>

      <div class="col-12 mt-4 mb-2 text-center">
        <button mat-raised-button color="primary" (click)="saveProductUnitDetails()">Save</button>&nbsp;
        <button mat-raised-button color="accent" (click)="_location.back()">Cancel</button>
      </div>
</div>